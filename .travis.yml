---
branches:
    only:
    - master
# if your page is user/ organization page, enable source branch and disable master branch build
#   - source
language: ruby
rvm:
  - 1.9.3
before_script:
- git config --global user.name "Hoat Le"
- git config --global user.email "hoatlevan@gmail.com"
- export REPO_URL="https://$GH_TOKEN@github.com/$GH_REPO.git"
- rake setup_github_pages[$REPO_URL]
# To reset the 'url' to the custom domain in '_config.yml'
- git checkout -- _config.yml
script: bundle exec rake generate
after_script:
- bundle exec rake deploy
env:
    global:
    - GH_REPO="teracy-official/teracy-official-blog"
    - secure: "jraEpV7R9hwbJHH0hBH/FFU6Y38jVSh6KdDPTGCK7WOFhiCi9i8LJGKkNZZWJahQ53ZQN5mB+3axiGBtLw9Ecp5cKO+ykCnJsEu7xXSfc9bqH5aHOt7tysY88/zvcLwu7Rv+P4Cr8LtOL5MeWDrPbMdpJ/6AEJYYR5pAPABywmA="
